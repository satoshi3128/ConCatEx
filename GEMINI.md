# プロジェクト概要

このプロジェクトは、Next.js 15 (App Router) を使用して構築された、フリーランス開発者向けのポートフォリオサイトです。高度なお問い合わせシステム、Notion API連携、多層スパム保護、Edge Runtime対応ログシステムを搭載した本格的なWebアプリケーションです。

## 主要技術スタック

- **フレームワーク**: Next.js 15 (App Router)
- **言語**: TypeScript
- **UI**: React, Tailwind CSS
- **テスト**: Vitest, React Testing Library
- **リンター**: ESLint
- **外部連携**: Notion API
- **ランタイム**: Edge Runtime (Vercel最適化)
- **セキュリティ**: 多層スパム保護、IP匿名化

## プロジェクト構成

- **ページ構成**: サイトは以下の5つのセクションから成る単一ページアプリケーションです。
  1.  `#about` (自己紹介)
  2.  `#career` (経歴)
  3.  `#skills` (スキル)
  4.  `#activities` (活動)
  5.  `#contact` (お問い合わせ)
- **データ管理**:
  - 職務経歴は `data/resume.json` から読み込まれ、`CareerTable` コンポーネントで表示されます。
  - 自己紹介、スキル、活動内容は `content/` ディレクトリ内の Markdown ファイルから読み込まれます。
- **コンポーネント**:
  - `Navigation`: サイト全体のナビゲーション。
  - `CareerTable`: 職歴データを表示するインタラクティブなテーブル。
  - `ContactForm`: お問い合わせフォーム（バリデーション、スパム保護機能付き）。
  - `ContactSuccess`: 送信成功画面。
- **API**:
  - `/api/contact`: 高度なお問い合わせAPIエンドポイント（Notion連携、スパム保護、ログ機能）。
- **ユーティリティ**:
  - `notion.ts`: Notion API連携機能。
  - `freeSpamProtection.ts`: 多層スパム保護システム。
  - `loggerSimple.ts`: Edge Runtime対応ログシステム。

## 現状 (v1.3.0)

### 実装完了機能
- **高度なお問い合わせシステム**: Notion API連携によるデータ永続化
- **多層スパム保護**: ハニーポット、レート制限、コンテンツ分析（無料ソリューション）
- **Edge Runtime対応ログシステム**: IP匿名化機能付き高性能ログ
- **包括的テストカバレッジ**: API・コンポーネント・ユーティリティの全領域をカバー
- **プロダクション対応**: Vercelでのデプロイ、環境変数管理、モニタリング

### 技術的成果
- **コスト最適化**: OOPSpam（$23/月）から無料スパム保護への切り替え
- **パフォーマンス向上**: Edge Runtime最適化によるレスポンス時間短縮
- **セキュリティ強化**: 個人情報保護、入力サニタイゼーション、IP匿名化

### テスト状況
- **API Tests**: 18/18 passing（お問い合わせ機能の包括テスト）
- **Component Tests**: 11/11 passing（フォーム・テーブルコンポーネント）
- **Utility Tests**: All passing（スパム保護・ログ・Notion API）

### セキュリティ・プライバシー
- **個人データ保護**: `resume.json`, `*.md` はリポジトリから除外
- **環境変数管理**: API キーの安全な管理
- **入力検証**: XSS攻撃防止、サニタイゼーション
- **プライバシー配慮**: IP アドレス匿名化

### 運用・保守
- **構造化ログ**: JSON形式による検索・分析可能なログ
- **エラートラッキング**: 詳細なエラー情報とスタックトレース
- **成功率追跡**: フォーム送信の成功・失敗統計

**プロダクション環境で安定稼働中。全機能が正常動作し、包括的なモニタリング体制を構築済み。**
